(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1234"],{4585:function(e,t,n){"use strict";n.r(t),n.d(t,"startInputShims",(function(){return L}));var o=n("38cb");const r=new WeakMap,i=(e,t,n,o=0)=>{r.has(e)!==n&&(n?a(e,t,o):c(e,t))},s=e=>e===e.getRootNode().activeElement,a=(e,t,n)=>{const o=t.parentNode,i=t.cloneNode(!1);i.classList.add("cloned-input"),i.tabIndex=-1,o.appendChild(i),r.set(e,i);const s=e.ownerDocument,a="rtl"===s.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform=`translate3d(${a}px,${n}px,0) scale(0)`},c=(e,t)=>{const n=r.get(e);n&&(r.delete(e),n.remove()),e.style.pointerEvents="",t.style.transform=""},l=(e,t,n)=>{if(!n||!t)return()=>{};const r=n=>{s(t)&&i(e,t,n)},a=()=>i(e,t,!1),c=()=>r(!0),l=()=>r(!1);return Object(o["a"])(n,"ionScrollStart",c),Object(o["a"])(n,"ionScrollEnd",l),t.addEventListener("blur",a),()=>{Object(o["b"])(n,"ionScrollStart",c),Object(o["b"])(n,"ionScrollEnd",l),t.addEventListener("ionBlur",a)}},d="input, textarea, [no-blur]",u=()=>{let e=!0,t=!1;const n=document,r=()=>{t=!0},i=()=>{e=!0},s=o=>{if(t)return void(t=!1);const r=n.activeElement;if(!r)return;if(r.matches(d))return;const i=o.target;i!==r&&(i.matches(d)||i.closest(d)||(e=!1,setTimeout(()=>{e||r.blur()},50)))};return Object(o["a"])(n,"ionScrollStart",r),n.addEventListener("focusin",i,!0),n.addEventListener("touchend",s,!1),()=>{Object(o["b"])(n,"ionScrollStart",r,!0),n.removeEventListener("focusin",i,!0),n.removeEventListener("touchend",s,!1)}},m=.3,f=(e,t,n)=>{const o=e.closest("ion-item,[ion-item]")||e;return p(o.getBoundingClientRect(),t.getBoundingClientRect(),n,e.ownerDocument.defaultView.innerHeight)},p=(e,t,n,o)=>{const r=e.top,i=e.bottom,s=t.top,a=Math.min(t.bottom,o-n),c=s+15,l=.75*a,d=l-i,u=c-r,f=Math.round(d<0?-d:u>0?-u:0),p=Math.min(f,r-s),v=Math.abs(p),w=v/m,E=Math.min(400,Math.max(150,w));return{scrollAmount:p,scrollDuration:E,scrollPadding:n,inputSafeY:4-(r-c)}},v=(e,t,n,r,i)=>{let a;const c=e=>{a=Object(o["m"])(e)},l=c=>{if(!a)return;const l=Object(o["m"])(c);E(6,a,l)||s(t)||(c.preventDefault(),c.stopPropagation(),w(e,t,n,r,i))};return e.addEventListener("touchstart",c,!0),e.addEventListener("touchend",l,!0),()=>{e.removeEventListener("touchstart",c,!0),e.removeEventListener("touchend",l,!0)}},w=async(e,t,n,o,r)=>{if(!n&&!o)return;const s=f(e,n||o,r);if(n&&Math.abs(s.scrollAmount)<4)t.focus();else if(i(e,t,!0,s.inputSafeY),t.focus(),"undefined"!==typeof window){let o;const r=async()=>{void 0!==o&&clearTimeout(o),window.removeEventListener("ionKeyboardDidShow",a),window.removeEventListener("ionKeyboardDidShow",r),n&&await n.scrollByPoint(0,s.scrollAmount,s.scrollDuration),i(e,t,!1,s.inputSafeY),t.focus()},a=()=>{window.removeEventListener("ionKeyboardDidShow",a),window.addEventListener("ionKeyboardDidShow",r)};if(n){const e=await n.getScrollElement(),i=e.scrollHeight-e.clientHeight;if(s.scrollAmount>i-e.scrollTop)return"password"===t.type?(s.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",a)):window.addEventListener("ionKeyboardDidShow",r),void(o=setTimeout(r,1e3))}r()}},E=(e,t,n)=>{if(t&&n){const o=t.x-n.x,r=t.y-n.y,i=o*o+r*r;return i>e*e}return!1},h="$ionPaddingTimer",b=e=>{const t=document,n=t=>{y(t.target,e)},o=e=>{y(e.target,0)};return t.addEventListener("focusin",n),t.addEventListener("focusout",o),()=>{t.removeEventListener("focusin",n),t.removeEventListener("focusout",o)}},y=(e,t)=>{if("INPUT"!==e.tagName)return;if(e.parentElement&&"ION-INPUT"===e.parentElement.tagName)return;if(e.parentElement&&e.parentElement.parentElement&&"ION-SEARCHBAR"===e.parentElement.parentElement.tagName)return;const n=e.closest("ion-content");if(null===n)return;const o=n[h];o&&clearTimeout(o),t>0?n.style.setProperty("--keyboard-offset",t+"px"):n[h]=setTimeout(()=>{n.style.setProperty("--keyboard-offset","0px")},120)},g=!0,S=!0,L=e=>{const t=document,n=e.getNumber("keyboardHeight",290),o=e.getBoolean("scrollAssist",!0),r=e.getBoolean("hideCaretOnScroll",!0),i=e.getBoolean("inputBlurring",!0),s=e.getBoolean("scrollPadding",!0),a=Array.from(t.querySelectorAll("ion-input, ion-textarea")),c=new WeakMap,d=new WeakMap,m=async e=>{e.componentOnReady&&await e.componentOnReady();const t=e.shadowRoot||e,i=t.querySelector("input")||t.querySelector("textarea"),s=e.closest("ion-content"),a=s?null:e.closest("ion-footer");if(i){if(s&&r&&!c.has(e)){const t=l(e,i,s);c.set(e,t)}if((s||a)&&o&&!d.has(e)){const t=v(e,i,s,a,n);d.set(e,t)}}},f=e=>{if(r){const t=c.get(e);t&&t(),c.delete(e)}if(o){const t=d.get(e);t&&t(),d.delete(e)}};i&&g&&u(),s&&S&&b(n);for(const l of a)m(l);t.addEventListener("ionInputDidLoad",e=>{m(e.detail)}),t.addEventListener("ionInputDidUnload",e=>{f(e.detail)})}}}]);
//# sourceMappingURL=chunk-2d0c1234.d98fd805.js.map